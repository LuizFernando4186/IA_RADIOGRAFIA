<app-header [icone]='icone' [title]='title'></app-header>

<body>
    <mat-card>
        <mat-toolbar> Pacientes Disponíveis</mat-toolbar>

        <div *ngIf="pessoas$ | async as pessoas; else loading">
            <table mat-table [dataSource]="pessoas" class="mat-elevation-z8">

                <ng-container matColumnDef="cpf">
                    <th mat-header-cell *matHeaderCellDef> CPF </th>
                    <td mat-cell *matCellDef="let pessoa"> {{ pessoa.cpf }} </td>
                </ng-container>

                <ng-container matColumnDef="nome">
                    <th mat-header-cell *matHeaderCellDef> Nome </th>
                    <td mat-cell *matCellDef="let pessoa"> {{ pessoa.nome }} </td>
                </ng-container>

                <ng-container matColumnDef="endereco">
                    <th mat-header-cell *matHeaderCellDef> Endereço </th>
                    <td mat-cell *matCellDef="let pessoa"> {{ pessoa.endereco }} </td>
                </ng-container>

                <ng-container matColumnDef="telefone">
                    <th mat-header-cell *matHeaderCellDef> Telefone </th>
                    <td mat-cell *matCellDef="let pessoa"> {{ pessoa.telefone }} </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="['cpf', 'nome', 'endereco', 'telefone']"></tr>
                <tr mat-row *matRowDef="let pessoa; columns: ['cpf', 'nome', 'endereco', 'telefone']"></tr>
            </table>
        </div>

        <ng-template #loading>
            <div class="loading-spinner">
                <mat-spinner color="primary"></mat-spinner>
            </div>
        </ng-template>

    </mat-card>
</body>
<app-footer></app-footer>